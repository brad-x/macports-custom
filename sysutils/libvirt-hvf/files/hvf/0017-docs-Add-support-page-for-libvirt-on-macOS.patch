From: Andrea Bolognani <abologna@redhat.com>
Subject: [libvirt PATCH v4 17/19] docs: Add support page for libvirt on macOS
Date: Fri,  7 Jan 2022 10:47:44 +0100
Content-Type: text/plain; charset="utf-8"

From: Roman Bolshakov <r.bolshakov@yadro.com>

Signed-off-by: Roman Bolshakov <r.bolshakov@yadro.com>
Signed-off-by: Andrea Bolognani <abologna@redhat.com>
---
 docs/docs.html.in  |  3 +++
 docs/index.html.in |  3 ++-
 docs/macos.rst     | 44 ++++++++++++++++++++++++++++++++++++++++++++
 docs/meson.build   |  1 +
 4 files changed, 50 insertions(+), 1 deletion(-)
 create mode 100644 docs/macos.rst

diff --git a/docs/docs.html.in b/docs/docs.html.in
index 8132090762..225827b693 100644
--- a/docs/docs.html.in
+++ b/docs/docs.html.in
@@ -16,6 +16,9 @@
         <dt><a href="windows.html">Windows</a></dt>
         <dd>Downloads for Windows</dd>
 
+        <dt><a href="macos.html">macOS</a></dt>
+        <dd>Working with libvirt on macOS</dd>
+
         <dt><a href="migration.html">Migration</a></dt>
         <dd>Migrating guests between machines</dd>
 
diff --git a/docs/index.html.in b/docs/index.html.in
index 2c4aa7c6d0..3c065badb7 100644
--- a/docs/index.html.in
+++ b/docs/index.html.in
@@ -28,7 +28,8 @@
           <a href="drvlxc.html">LXC</a>,
           <a href="drvbhyve.html">BHyve</a> and
           <a href="drivers.html">more</a></li>
-        <li>targets Linux, FreeBSD, <a href="windows.html">Windows</a> and macOS</li>
+        <li>targets Linux, FreeBSD, <a href="windows.html">Windows</a> and
+          <a href="macos.html">macOS</a></li>
         <li>is used by many <a href="apps.html">applications</a></li>
       </ul>
       <p>Recent / forthcoming <a href="news.html">release changes</a></p>
diff --git a/docs/macos.rst b/docs/macos.rst
new file mode 100644
index 0000000000..7792ad8819
--- /dev/null
+++ b/docs/macos.rst
@@ -0,0 +1,44 @@
+.. role:: since
+
+=============
+macOS support
+=============
+
+.. contents::
+
+Libvirt works both as client (for most drivers) and server (for the
+`QEMU driver <drvqemu.html>`__) on macOS.
+
+:since:`Since 8.0.0`, the "hvf" domain type can be used to run
+hardware-accelerated VMs on macOS via
+`Hypervisor.framework <https://developer.apple.com/documentation/hypervisor>`__.
+QEMU version 2.12 or newer is needed for this to work.
+
+
+Installation
+============
+
+libvirt client (virsh), server (libvirtd) and development headers can be
+installed from `Homebrew <https://brew.sh>`__:
+
+::
+
+   brew install libvirt
+
+
+Running libvirtd locally
+========================
+
+The server can be started manually:
+
+::
+
+   $ libvirtd
+
+or on system boot:
+
+::
+
+   $ brew services start libvirt
+
+Once started, you can use virsh as you would on Linux.
diff --git a/docs/meson.build b/docs/meson.build
index 3e912f21ad..717d3c025c 100644
--- a/docs/meson.build
+++ b/docs/meson.build
@@ -106,6 +106,7 @@ docs_rst_files = [
   'hacking',
   'libvirt-go',
   'libvirt-go-xml',
+  'macos',
   'migration',
   'newreposetup',
   'pci-addresses',
-- 
2.31.1

